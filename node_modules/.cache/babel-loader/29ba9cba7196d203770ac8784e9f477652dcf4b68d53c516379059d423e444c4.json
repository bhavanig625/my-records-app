{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{Form,Button,Card,Alert}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"./AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var emailRef=useRef();var passwordRef=useRef();var firstNameRef=useRef();var passwordConfirmRef=useRef();var _useAuth=useAuth(),SignUp=_useAuth.SignUp;var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var navigate=useNavigate();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var userDetails;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(firstNameRef.current.value===null||firstNameRef.current.value.trim()===\"\")){_context.next=5;break;}return _context.abrupt(\"return\",setError(\"Please enter first name\"));case 5:if(!(passwordRef.current.value!==passwordConfirmRef.current.value)){_context.next=9;break;}return _context.abrupt(\"return\",setError(\"Passwords are not matching\"));case 9:if(!(passwordRef.current.value===null||passwordRef.current.value.trim()===\"\")){_context.next=13;break;}return _context.abrupt(\"return\",setError(\"Please enter Password\"));case 13:if(!(passwordConfirmRef.current.value===null||passwordConfirmRef.current.value.trim()===\"\")){_context.next=15;break;}return _context.abrupt(\"return\",setError(\"Please confirm the password\"));case 15:_context.prev=15;setError(\"\");setLoading(true);userDetails={fname:firstNameRef.current.value};_context.next=21;return SignUp(emailRef.current.value,passwordRef.current.value,userDetails);case 21:navigate(\"/home\");_context.next=28;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](15);console.log(\"Error signing up\",_context.t0);setError(\"Failed to create an account\");case 28:setLoading(false);case 29:case\"end\":return _context.stop();}},_callee,null,[[15,24]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"400px\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"firstName\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",ref:firstNameRef})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",id:\"mail\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",id:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordRef})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",id:\"password-confirm\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordConfirmRef})]}),/*#__PURE__*/_jsx(Form.Group,{disabled:loading,id:\"button\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-100 mt-4\",children:\"Sign Up\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-3\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]});}export default Signup;","map":{"version":3,"names":["React","useRef","useState","Form","Button","Card","Alert","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Signup","emailRef","passwordRef","firstNameRef","passwordConfirmRef","_useAuth","SignUp","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","loading","setLoading","navigate","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","userDetails","wrap","_callee$","_context","prev","next","preventDefault","current","value","trim","abrupt","fname","t0","console","log","stop","style","maxWidth","margin","children","Body","className","variant","onSubmit","Group","id","Label","Control","type","ref","disabled","to"],"sources":["/home/runner/work/my-records-app/my-records-app/src/LoginComponents/Signup.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"./AuthContext\";\n\nfunction Signup() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const firstNameRef = useRef();\n  const passwordConfirmRef = useRef();\n  const { SignUp } = useAuth();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (\n      firstNameRef.current.value === null ||\n      firstNameRef.current.value.trim() === \"\"\n    )\n      return setError(\"Please enter first name\");\n    else if (passwordRef.current.value !== passwordConfirmRef.current.value)\n      return setError(\"Passwords are not matching\");\n    else if (\n      passwordRef.current.value === null ||\n      passwordRef.current.value.trim() === \"\"\n    )\n      return setError(\"Please enter Password\");\n    else if (\n      passwordConfirmRef.current.value === null ||\n      passwordConfirmRef.current.value.trim() === \"\"\n    )\n      return setError(\"Please confirm the password\");\n    //const dataref = ref(database, \"User/details/\" + firstNameRef.current.value);\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      const userDetails = {\n        fname: firstNameRef.current.value,\n      };\n      await SignUp(\n        emailRef.current.value,\n        passwordRef.current.value,\n        userDetails\n      );\n\n      navigate(\"/home\");\n    } catch (e) {\n      console.log(\"Error signing up\", e);\n      setError(\"Failed to create an account\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <div style={{ maxWidth: \"400px\", margin: \"0 auto\" }}>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\n\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"firstName\">\n              <Form.Label className=\"mb-1\">Name</Form.Label>\n              <Form.Control type=\"text\" ref={firstNameRef} />\n            </Form.Group>\n            {/* <Form.Group id=\"lastName\">\n              <Form.Label>Last Name</Form.Label>\n              <Form.Control type=\"text\" ref={lastNameRef} />\n            </Form.Group>\n            <Form.Group id=\"dob\">\n              <Form.Label>Date of birth</Form.Label>\n              <Form.Control type=\"date\" ref={dobRef} />\n            </Form.Group> */}\n            <Form.Group className=\"mt-3\" id=\"mail\">\n              <Form.Label className=\"mb-1\">Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} />\n            </Form.Group>\n            <Form.Group className=\"mt-3\" id=\"password\">\n              <Form.Label className=\"mb-1\">Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} />\n            </Form.Group>\n            <Form.Group className=\"mt-3\" id=\"password-confirm\">\n              <Form.Label className=\"mb-1\">Confirm Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordConfirmRef} />\n            </Form.Group>\n            <Form.Group disabled={loading} id=\"button\">\n              <Button type=\"submit\" className=\"w-100 mt-4\">\n                Sign Up\n              </Button>\n            </Form.Group>\n          </Form>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-3\">\n        Already have an account? <Link to=\"/login\">Login</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}