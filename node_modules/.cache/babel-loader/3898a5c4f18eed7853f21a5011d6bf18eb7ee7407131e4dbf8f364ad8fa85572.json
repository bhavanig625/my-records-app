{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{Form,Button,Card,Alert}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"./AuthContext\";import googleLogo from\"../Images/google-logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var emailRef=useRef();var passwordRef=useRef();var _useAuth=useAuth(),SignIn=_useAuth.SignIn,signInWithGoogle=_useAuth.signInWithGoogle;var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var navigate=useNavigate();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setError(\"\");setLoading(true);_context.next=6;return SignIn(emailRef.current.value,passwordRef.current.value);case 6:navigate(\"/home\");_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);if(_context.t0.code===\"auth/invalid-login-credentials\")setError(\"Invalid Login credentials\");else setError(\"Failed to login\");case 13:setLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return _handleSubmit.apply(this,arguments);}function handleGoogleSignIn(){return _handleGoogleSignIn.apply(this,arguments);}function _handleGoogleSignIn(){_handleGoogleSignIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signInWithGoogle();case 2:navigate(\"/home\");case 3:case\"end\":return _context2.stop();}},_callee2);}));return _handleGoogleSignIn.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"400px\",margin:\"5% auto\"},children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",id:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordRef})]}),/*#__PURE__*/_jsx(Form.Group,{disabled:loading,id:\"button\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-100 mt-4\",children:\"Log In\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",children:\"Forgot Password?\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-google btn-outline btn-google w-100\",onClick:handleGoogleSignIn,children:[/*#__PURE__*/_jsx(\"img\",{src:googleLogo,alt:\"Google logo\",style:{marginRight:\"5px\"}}),\"Signup Using Google\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-3\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign Up\"})]})]});}export default Login;","map":{"version":3,"names":["React","useRef","useState","Form","Button","Card","Alert","Link","useNavigate","useAuth","googleLogo","jsx","_jsx","jsxs","_jsxs","Login","emailRef","passwordRef","_useAuth","SignIn","signInWithGoogle","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","loading","setLoading","navigate","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","current","value","t0","console","log","message","code","stop","handleGoogleSignIn","_handleGoogleSignIn","_callee2","_callee2$","_context2","style","maxWidth","margin","children","Body","className","variant","onSubmit","Group","id","Label","Control","type","ref","disabled","to","onClick","src","alt","marginRight"],"sources":["/home/runner/work/my-records-app/my-records-app/src/LoginComponents/Login.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"./AuthContext\";\nimport googleLogo from \"../Images/google-logo.png\";\n\nfunction Login() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const { SignIn, signInWithGoogle } = useAuth();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await SignIn(emailRef.current.value, passwordRef.current.value);\n      navigate(\"/home\");\n    } catch (e) {\n      console.log(e.message);\n      if (e.code === \"auth/invalid-login-credentials\")\n        setError(\"Invalid Login credentials\");\n      else setError(\"Failed to login\");\n    }\n    setLoading(false);\n  }\n\n  async function handleGoogleSignIn() {\n    await signInWithGoogle();\n    navigate(\"/home\");\n  }\n\n  return (\n    <div style={{ maxWidth: \"400px\", margin: \"5% auto\" }}>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Login</h2>\n\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label className=\"mb-1\">Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} />\n            </Form.Group>\n            <Form.Group className=\"mt-3\" id=\"password\">\n              <Form.Label className=\"mb-1\">Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} />\n            </Form.Group>\n            <Form.Group disabled={loading} id=\"button\">\n              <Button type=\"submit\" className=\"w-100 mt-4\">\n                Log In\n              </Button>\n            </Form.Group>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"mt-3\">\n        <div\n          className=\"btn btn-google btn-outline btn-google w-100\"\n          onClick={handleGoogleSignIn}\n        >\n          <img\n            src={googleLogo}\n            alt=\"Google logo\"\n            style={{ marginRight: \"5px\" }}\n          />\n          Signup Using Google\n        </div>\n      </div>\n      <div className=\"w-100 text-center mt-3\">\n        Don't have an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}