{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/work/my-records-app/my-records-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{Form,Button,Card,Alert}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useAuth}from\"./AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ForgotPassword(){var emailRef=useRef();var _useAuth=useAuth(),PasswordReset=_useAuth.PasswordReset;var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];function handlePasswordReset(_x){return _handlePasswordReset.apply(this,arguments);}function _handlePasswordReset(){_handlePasswordReset=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setMessage(\"\");setError(\"\");setLoading(true);_context.next=7;return PasswordReset(emailRef.current.value);case 7:setMessage(\"Check your inbox for password reset\");_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0.message);if(_context.t0.code===\"auth/missing-email\")setError(\"Please enter your email\");else setError(\"Failed to reset password\");case 14:setLoading(false);case 15:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return _handlePasswordReset.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Password Reset\"}),message&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:message}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handlePasswordReset,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"mail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/_jsx(Form.Group,{disabled:loading,id:\"button\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-100 mt-3\",children:\"Reset Password\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 text-center mt-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})})]})})});}export default ForgotPassword;","map":{"version":3,"names":["React","useRef","useState","Form","Button","Card","Alert","Link","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ForgotPassword","emailRef","_useAuth","PasswordReset","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","loading","setLoading","_useState5","_useState6","message","setMessage","handlePasswordReset","_x","_handlePasswordReset","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","current","value","t0","console","log","code","stop","children","Body","className","variant","onSubmit","Group","id","Label","Control","type","ref","required","disabled","to"],"sources":["/home/runner/work/my-records-app/my-records-app/src/LoginComponents/ForgotPassword.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"./AuthContext\";\n\nfunction ForgotPassword() {\n  const emailRef = useRef();\n  const { PasswordReset } = useAuth();\n  const [error, setError] = useState();\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState();\n\n  async function handlePasswordReset(e) {\n    e.preventDefault();\n\n    try {\n      setMessage(\"\");\n      setError(\"\");\n      setLoading(true);\n      await PasswordReset(emailRef.current.value);\n      setMessage(\"Check your inbox for password reset\");\n    } catch (e) {\n      console.log(e.message);\n      if (e.code === \"auth/missing-email\") setError(\"Please enter your email\");\n      else setError(\"Failed to reset password\");\n    }\n    setLoading(false);\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\n          {message && <Alert variant=\"success\">{message}</Alert>}\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handlePasswordReset}>\n            <Form.Group id=\"mail\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n\n            <Form.Group disabled={loading} id=\"button\">\n              <Button type=\"submit\" className=\"w-100 mt-3\">\n                Reset Password\n              </Button>\n            </Form.Group>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/login\">Login</Link>\n          </div>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nexport default ForgotPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}